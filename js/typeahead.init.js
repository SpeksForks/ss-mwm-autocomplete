!function(e){e.entwine("ss",function(e){e("input.typeahead").entwine({onmatch:function(){var t=this,a=t.data("searchEngine");if(t.hasClass("has-typeahead"))return this._super();if(!a){var s={datumTokenizer:function(e){return console.log(e),e},queryTokenizer:Bloodhound.tokenizers.whitespace,local:t.data("local")?t.data("local"):null,remote:decodeURIComponent(t.data("remote")?t.data("remote"):t.data("suggestUrl"))};(t.data("prefetch")||t.data("prefetchUrl"))&&(s.prefetch=decodeURIComponent(t.data("prefetch")?t.data("prefetch"):t.data("prefetchUrl"))),a=new Bloodhound(s),t.data("searchEngine",a)}a.initialize();var n=t.data();return n.templates||(n.templates={},n.hasOwnProperty("templates.empty")&&(n.templates.empty=n["templates.empty"]),n.hasOwnProperty("templates.footer")&&(n.templates.footer=n["templates.footer"]),n.hasOwnProperty("templates.header")&&(n.templates.header=n["templates.header"]),n.templates.suggestion=n.hasOwnProperty("templates.suggestion")?n["templates.suggestion"]:function(e){return e.text?"<p>"+e.text+"</p>":"<p>"+e.id+"</p>"}),t.addClass("has-typeahead").typeahead(null,e.extend({},n,{source:a.ttAdapter(),displayKey:t.data("displayKey")?t.data("displayKey"):"id"})),this._super()},onunmatch:function(){this._super()}})})}(jQuery);